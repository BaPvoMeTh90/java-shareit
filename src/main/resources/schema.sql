CREATE TABLE IF NOT EXISTS REQUESTS (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY
    DESCRIPTION VARCHAR(255) NOT NULL,
    REQESTOR_ID BIGINT REFERENCES USERS(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ITEMS (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL,
    DESCRIPTION VARCHAR(255) NOT NULL,
    IS_AVAILABLE BOOLEAN NOT NULL,
    OWNER_ID BIGINT REFERENCES USERS(ID) ON DELETE CASCADE,
    REQUEST_ID BIGINT REFERENCES REQUESTS(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS BOOKINGS (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    START_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
    END_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
    ITEM_ID BIGINT REFERENCES ITEMS(ID) ON DELETE CASCADE,
    BOOKER_ID BIGINT REFERENCES USERS(ID) ON DELETE CASCADE,
    STATUS VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS COMMENTS (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TEXT VARCHAR(255) NOT NULL,
    ITEM_ID BIGINT REFERENCES ITEMS(ID) ON DELETE CASCADE,
    AUTHOR_ID BIGINT REFERENCES USERS(ID) ON DELETE CASCADE
);